<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/addProf.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Edit Prof</title>
</head>

<body>
    <!------------------NAVBAR--------------------->
    <%- include('../views/partials/header.ejs'); %>
<!------------------content container--------------------->
<p class="heading">EDIT A PROF</p>
<div class="container">
    <!------------------post container--------------------->
    <% if(isEqual == 0){ %>
        <div class="error-message">  
            <p>Number of courses and courses name are not the same</p>
        </div>
    <% }  %>
    <form action="/updateProf" method="post">
        <input type="hidden" value="<%= prof_profile.id %>" name="profID">
        <label for="name">Name</label>
        <input type="text" name="name" placeholder="Name" value="<%= prof_profile.name %>" required>

        <div class="input_fields_wrap">
            <label for="courses">Courses</label>
            <button class="add_field_button">Add another course</button>
            <input type="text" name="courses[]" placeholder="Courses" value="<%= prof_profile.courses[0] %>"  required>

            <% if(prof_profile.courses.length > 1){ %>
                <%   for(let i = 1; i < prof_profile.courses.length; i++){ %>
                    <div class="add-input">
                        <input class="add-field" type="text" type="text" name="courses[]" placeholder="Courses" value="<%= prof_profile.courses[i] %>" required>
                        <div class="input-group-append">
                            <button class="remove_field" type="button">Remove</button>
                        </div>
                    </div>
                <%  } %>
                <% }; %>
        </div>

        <div class="input-fields-wrap">
            <label for="courses_name">Courses Name (Enter courses name in the same order as the courses were entered)</label>
            <button class="add-field-button">Add another course name</button>
            <input type="text" name="courses_name[]" placeholder="Courses Name" value="<%= prof_profile.courses_name[0] %>" required>

            <% if(prof_profile.courses_name.length > 1){ %>
                <%   for(let i = 1; i < prof_profile.courses_name.length; i++){ %>
                    <div class="add_input">
                        <input class="add_field" type="text" name="courses_name[]" placeholder="Courses Name" value="<%= prof_profile.courses_name[i] %>" required>
                        <div class="input_group_append">
                            <button class="remove-field" type="button">Remove</button>
                        </div>
                    </div>
                <%  } %>
                <% }; %>
        </div>
    
        <label for="college">College</label>
        <select name="college">
            <option><%= prof_profile.college %></option>
            <% colleges.forEach(function(college){ %>  
                if(college.college != prof_profile.college){
                    <option><%= college.college %></option>
                }
            <% }); %>
        </select>

        <label for="department">Department</label>
        <select name="department">
            <option class="<%= prof_profile.college %>"><%= prof_profile.department %></option>
            <% for(let i = 0; i < colleges[0].departments.length; i++){ %>  
                <% if(colleges[0].departments[i] != prof_profile.department){%>
                <option class="<%= colleges[0].college %>"><%= colleges[0].departments[i] %></option>
                <% } %>
            <% } %>

            <% for(let i = 0; i < colleges[1].departments.length; i++){ %>  
                <% if(colleges[1].departments[i] != prof_profile.department){%>
                    <option class="<%= colleges[1].college %>"><%= colleges[1].departments[i] %></option>
                <% } %>
            <% } %>

            <% for(let i = 0; i < colleges[2].departments.length; i++){ %>  
                <% if(colleges[2].departments[i] != prof_profile.department){%>
                <option class="<%= colleges[2].college %>"><%= colleges[2].departments[i] %></option>
                <% } %>
            <% } %>

            <% for(let i = 0; i < colleges[3].departments.length; i++){ %>  
                <% if(colleges[3].departments[i] != prof_profile.department){%>
                <option class="<%= colleges[3].college %>"><%= colleges[3].departments[i] %></option>
                <% } %>
            <% } %>

            <% for(let i = 0; i < colleges[4].departments.length; i++){ %>  
                <% if(colleges[4].departments[i] != prof_profile.department){%>
                <option class="<%= colleges[4].college %>"><%= colleges[4].departments[i] %></option>
                <% } %>
            <% } %>

            <% for(let i = 0; i < colleges[5].departments.length; i++){ %>  
                <% if(colleges[5].departments[i] != prof_profile.department){%>
                <option class="<%= colleges[5].college %>"><%= colleges[5].departments[i] %></option>
                <% } %>
            <% } %>

            <% for(let i = 0; i < colleges[6].departments.length; i++){ %>  
                if(colleges[6].departments[i] != prof_profile.department){
                <option class="<%= colleges[6].college %>"><%= colleges[6].departments[i] %></option>
                }
            <% } %>
         
        </select>
      
        <input type="submit" value="Submit">
      </form>
    
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>  
<script src="/javascript/admin_page.js"></script>  
</body>

</html>